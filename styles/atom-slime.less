// The ui-variables file is provided by base themes provided by Atom.
//
// See https://github.com/atom/atom-dark-ui/blob/master/styles/ui-variables.less
// for a full listing of what's available.
@import "ui-variables";
@import "syntax-variables";
@import 'octicon-utf-codes';


atom-text-editor.editor {
  .syntax--repl-prompt {
    font-weight: bold;
  }

  .repl-line {
    background-color: @background-color-highlight;
  }
}

.atom-slime-debugger {
  overflow: auto;
}


// Status view
status-bar .slime-keyword-highlight {
  background-color: @inset-panel-background-color;
  font-weight: bold;
  border-radius: @component-border-radius;
  padding-left: 0px;
  padding-right: 0px;
  padding-top: 4px;
  padding-bottom: 4px;
  margin-left: -1px;
  margin-right: -1px;
  border: 1px solid @inset-panel-border-color;
}


// TODO - bubble stuff, change
@spacing: 3px;
bubble-message {
  display: flex;
  align-items: center;
  font-size: @font-size;
  line-height: 1.2;
}

.bubble-message-item {
  margin: @spacing;
  cursor: pointer;
}

.bubble-highlight {
  flex: 0 0 auto;
  align-self: flex-start;
}

.bubble-message-link {
  margin: 0 0 0 @spacing;
}

bubble-message-line {
  white-space: pre-wrap; /* Enable whitespace to be maintained from the user message. */
}

bubble-multiline-message {
  cursor: pointer;

  &::before {
    font-family: 'Octicons Regular';
    content: @triangle-right;
    display: inline-block;
    width: 1em;
    margin-right: 0.2em;
    text-align: center;
    height: 1em;
  }

  bubble-message-line:not(:first-child) {
    display: none;
    margin-left: 1.2em;
  }

  &.expanded {
    &::before {
      content: @triangle-down;
    }

    bubble-message-line:not(:first-child) {
      display: block;
    }
  }
}

#bubble-inline {
  @bubble-inline-link: fade(@base-background-color, 66%);
  @bubble-inline-fg: @base-background-color;
  @bubble-inline-bg: @text-color;
  margin-top: 4px;
  padding: @spacing;
  color: @bubble-inline-fg;
  border-radius: @component-border-radius * 1.5;
  border-top-left-radius: 0;
  background: @bubble-inline-bg;
  box-shadow: 0 1px 3px hsla(0, 0, 0%, 0.4);

  transition: opacity 300ms;
  &.transparent {
    opacity: 0.2;
  }

  // pointer arrow
  &::before {
    content: "";
    position: absolute;
    top: -4px;
    left: 0;
    border: 4px solid;
    border-color: transparent transparent @bubble-inline-bg @bubble-inline-bg;
  }
  a {
    color: @bubble-inline-link;
    &:last-of-type {
      padding-right: @spacing * 1.5; // a bit extra space for visual pleasing
    }
  }

  .active {
    //color: @text-color-selected;
    background: @text-color-highlight; // @background-color-info;
    border-radius: @component-border-radius;
  }
}



// REPL inspectable objects
.slime-object-container {

}


.slime-object {


}

.slime-object-introspected {
  border: solid 1px @base-border-color;
  text-align: left;
  line-height: 1.5em;
  display: inline-block;
  -webkit-user-select: text;
  user-select: text;
}

.slime-object-introspected h4 {
    border-bottom: solid 1px @base-border-color;
}


// frame info
.slime-message {
  white-space: pre-line;
}
